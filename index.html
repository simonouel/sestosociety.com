<!DOCTYPE html>
<html>
<head>
  <title>Sesto Society</title>
  <style>
    body {
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      margin: 0;
      background-color: #f0f0f0;
      font-family: sans-serif;
    }
    img {
      max-width: 80%;
      max-height: 80%;
      border-radius: 8px;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    }
  </style>
</head>
<body>
  <img id="imgurMeme" src="" alt="Random Imgur Meme">

  <script>
    const clientId = 'WillyOuelletOuiAllo'; // Replace with your Imgur Client ID

    fetch('https://api.imgur.com/3/gallery/search/time/1?q=meme', { //Search for meme
      headers: {
        Authorization: `Client-ID ${clientId}`
      }
    })
    .then(response => response.json())
    .then(data => {
      if (data.success && data.data && data.data.length > 0) {
        let imageUrl;
        let validImageFound = false;
        let attempt = 0;
        while(validImageFound === false && attempt < data.data.length) {
          if(data.data[attempt].images){
            imageUrl = data.data[attempt].images[0].link;
          } else {
            imageUrl = data.data[attempt].link;
          }

          if(imageUrl && (imageUrl.endsWith(".jpg") || imageUrl.endsWith(".png") || imageUrl.endsWith(".gif"))){
            validImageFound = true;
          }
          attempt++;
        }

        if(validImageFound){
          document.getElementById('imgurMeme').src = imageUrl;
        } else {
          document.getElementById('imgurMeme').src = "https://via.placeholder.com/800x600?text=Imgur+Meme+Error";
        }

      } else {
        console.error('Error fetching Imgur meme:', data);
        document.getElementById('imgurMeme').src = "https://via.placeholder.com/800x600?text=Imgur+Meme+Error";
      }
    })
    .catch(error => {
      console.error('Error fetching Imgur meme:', error);
      document.getElementById('imgurMeme').src = "https://via.placeholder.com/800x600?text=Imgur+Meme+Error";
    });
  </script>
</body>
</html>